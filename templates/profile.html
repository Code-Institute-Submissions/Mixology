{% extends "base.html" %}
{% block content %}
<!--Profile Info-->
{% if edit == "true" %}
    <section class="section-spacing">
        <form class="form" action="{{ url_for('profile', profile_name=session.user, profile_id=session.id) }}" method="POST">
            <div class="profile">
                <div class="profile__container profile__container--img inline-block">
                    <img class="profile__img" src="{{ profile.image }}" alt="profile image">
                </div>
                <label for="image-url" class="form__label">Image URL</label> 
                <input id="image-url" name="image-url" class="form__input form__input--narrow" value="{{ profile.image }}" placeholder="Enter URL of Image eg. https://www.example.com/image" required>
                <div class="profile__container profile__container--text inline-block">
                    <label for="image-url" class="form__label">Username</label>
                    <input id="username" name="username" class="form__input form__input--font-large profile__name" pattern="^[a-zA-Z0-9]{4,25}$" maxlength="12" placeholder="Enter New Username" value="{{ profile.username }}" required>
                    <div class="profile__actions profile__actions--center">
                        <a href="{{ url_for('profile', profile_name=session.user, profile_id=session.id) }}" class="cta cta--delete cta--confirm">Cancel</a>
                        <button class="cta cta--create cta--confirm" name="form-submit" value="update-profile">Save Changes</button>
                        <a href="{{ url_for('delete_profile', user_id=session.id) }}" class="cta cta--delete cta--confirm"><i class="fas fa-times"></i> Delete Profile</a>
                    </div>
                </div>
            </div>
            <input type="hidden" id="random" name="random" value="{{ range(1, 10000000) | random }}">
        </form>
    </section>
{% else %}
    <section class="section-spacing">
        <div class="profile">
            <div class="profile__container profile__container--img inline-block">
                <img class="profile__img" src="{{ profile.image }}" alt="profile image">
            </div>
            <div class="profile__container profile__container--text inline-block">
                <h1 class="profile__name">{{ profile.username }}</h1>
                <p class="profile__info"><strong>Number of Cocktails:</strong> 000 add link from template</p>
                <p class="profile__info"><strong>Date Joined:</strong> {{ profile.date_added.strftime('%d/%m/%y') }}</p>
                <div class="profile__actions">
                    <a href="{{ url_for('profile', profile_name=session.user, profile_id=session.id, edit='true') }}" class="cta cta--confirm"><i class="fas fa-user-edit"></i> Edit</a>
                </div>
            </div>
        </div>
    </section>
{% endif %} 
{{ edit }}
<!--User Cocktails-->
<section class="rec-carsousel section-spacing">
    <div class="rec-carsousel__header">
        <h2 class="rec-carsousel__title inline-block">Your Cocktails</h2>
        <a href="#" class="rec-carsousel__cta cta cta--create"><i class="fas fa-plus"></i> Add Cocktail</a>
    </div>
    <hr class="page-line page-line--brand">

    <!--User Cocktails Filters-->
    <div class="rec-carsousel__filter-contianer"> 
        <div class="rec-carsousel__filter float-left">
            <h3 class="rec-carsousel__tag inline-block">Filter:</h3>
            {% for alcohol in alcohol_categories %}
                <button class="cta cta--filter">{{ alcohol.alcohol_name }}</button>
            {% endfor %}
        </div>

        <div class="rec-carsousel__sort float-right">
            <h3 class="rec-carsousel__tag inline-block">Sort:</h3>
            <button class="cta cta--filter">A-Z</button>
            <button class="cta cta--filter">Rating</button>
            <button class="cta cta--filter">Popularity</button>
        </div>
    </div>
    
    {% if user_cocktails | length > 0 %}
        <!--User Cocktails Carsousel-->
        <div class="swiper-container clear-both">
            <div class="swiper-wrapper">
                <!-- Slides -->
                {% for cocktail in user_cocktails %}
                    {% include "rec-card.html" %}
                {% endfor %}
            </div>
            <!--Navigation buttons-->
            <div class="rec-carsousel__btn-container">
                <div class="rec-carsousel__swiper-button swiper-button-prev"></div>
                <div class="rec-carsousel__swiper-button swiper-button-next"></div>
            </div>
        </div>
    {% else %}
        <div class="no-cocktail">
            <h4 class="no-cocktails__text">No Cocktails</h4>
        </div>
    {% endif %}
</section>

<!--User Bookmarks-->
<section class="section-spacing">
    <div class="rec-carsousel__header">
        <h2 class="rec-carsousel__title inline-block">Your Bookmarks</h2>
    </div>
    <hr class="page-line page-line--brand">

    <!--User Bookmark Filters-->
    <div class="rec-carsousel__filter-contianer"> 
        <div class="rec-carsousel__filter float-left">
            <h3 class="rec-carsousel__tag inline-block">Filter:</h3>
            {% for alcohol in alcohol_categories %}
                <button class="cta cta--filter">{{ alcohol.alcohol_name }}</button>
            {% endfor %}
        </div>

        <div class="rec-carsousel__sort float-right">
            <h3 class="rec-carsousel__tag inline-block">Sort:</h3>
            <button class="cta cta--filter">A-Z</button>
            <button class="cta cta--filter">Rating</button>
            <button class="cta cta--filter">Popularity</button>
        </div>
    </div>

    {% if bookmarked_cocktails | length > 0 %}
        <!--User Bookmark Carsousel-->
        <div class="swiper-container clear-both">
            <div class="swiper-wrapper">
                <!-- Slides -->
                {% for cocktail in bookmarked_cocktails %}
                    {% include "rec-card.html" %}
                {% endfor %}
            </div>
            <!--Navigation buttons-->
            <div class="rec-carsousel__btn-container">
                <div class="rec-carsousel__swiper-button swiper-button-prev"></div>
                <div class="rec-carsousel__swiper-button swiper-button-next"></div>
            </div>
        </div>
    {% else %}
        <div class="no-cocktail">
            <h4 class="no-cocktails__text">No Cocktails</h4>
        </div>
    {% endif %}
</section>
{% endblock %}