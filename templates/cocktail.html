{% extends "base.html" %}
{% block content %}
    <!--Cocktail Header-->
    <section class="cocktail-header">
        <h1 class="page-title inline-block">{{ cocktail.cocktail_name.title() }}</h1>

        <!--Bookmark-->
        <form id="bookmark" class="cocktail-header__bookmark-form" action="{{ url_for('cocktail', cocktail_name=cocktail.cocktail_name.replace(' ', '-'), cocktail_id=cocktail._id) }}" method="POST">
            <input type="hidden" id="random" name="random" value="{{ range(1, 10000000) | random }}">
            <button id="bookmark-submit" class="cocktail-header__bookmark-btn">
                {% if bookmark == "false" %}
                    <i class="cocktail-header__function cocktail-header__function--bookmark far fa-bookmark inline-block"></i>
                {% else %}
                    <i class="cocktail-header__function cocktail-header__function--bookmark fas fa-bookmark inline-block"></i>
                {% endif %}
            </button>
        </form>
        {% if session.id == cocktail.author_id %}
            <a href="{{ url_for('cocktail_create', cocktail_name=cocktail.cocktail_name.replace(' ', '-'), cocktail_id=cocktail._id) }}" class="cocktail-header__function cocktail-header__function--edit"><i class="fas fa-pencil-alt"></i> Edit</a>
        {% endif %}
        <div class="cocktail-header__star-rating">
            {% if cocktail.rating == 0 %}
                No Rating
            {% else %}
                {%  for i in range (0, cocktail.rating) %}
                    <i class="fas fa-star"></i>
                {% endfor %}
            {% endif %}
            ({{ cocktail.no_rating }})
        </div>
        <p class="cocktail-header__info"><strong>Date Added:</strong> {{ cocktail.date_added.strftime('%d/%m/%y') }}</p>
        <p class="cocktail-header__info"><a href="{{ url_for('profile', profile_name=cocktail.author, profile_id=cocktail.author_id) }}">by <span class="cocktail-header__author">{{ cocktail.author }}</span></a></p>
        <button class="cta cta--cocktail">Rate This Cocktail</button>
    </section>

    <!--Cocktail Info-->
    <section class="cocktail cocktail-body">
        <div class="cocktail__row row">

            <!--Cocktail Ingredients-->
            <div class="cocktail__ingredients col-4">
                <h2 class="cocktail__item-title">Ingredients</h2>
                <ul class="cocktail__info">
                    {% for i in range(0, cocktail.ingredients | length ) %}
                        <li class="clear-both">
                            <p class="float-left">
                                {{ cocktail.ingredients[i][0] }} 
                                
                                {% if cocktail.ingredients[i][1] != "no unit" %}
                                    {{ cocktail.ingredients[i][1] }}
                                {% endif %}
                                
                                {{ cocktail.ingredients[i][2].title() }}
                            </p>
                            <span class="cocktail__checkbox float-right">
                                <i class="far fa-square"></i>
                            </span>
                        </li>
                    {% endfor %}
                </ul>

                <!--Cocktail Garnish-->
                <h2 class="cocktail__item-title clear-both">Garnish</h2>
                <ul id="cocktail__info" class="cocktail__info">
                    {% for i in range(0, cocktail.garnish | length) %}
                        <li class="garnish clear-both"><p class="float-left">{{ cocktail.garnish[i][0] }} {{ cocktail.garnish[i][1].title() }}</p><span class="cocktail__checkbox float-right"><i class="far fa-square"></i></span></li>
                    {% endfor %}
                </ul>

                <div class="cocktail__affiliate">
                    <h3>Get What You Need</h3>
                    <p>Find a wide range of alcohol and mixers here:</p>
                    <a class="bottom-mar" href="https://www.masterofmalt.com/" target="_blank">Master of Malt</a>
                </div>

            </div>

            <!--Cocktail Tools-->
            <div class="cocktail__tools col-4">
                <h2 class="cocktail__item-title">Tools</h2>
                <ul class="cocktail__info">
                    {% for i in range(0, cocktail.tools | length) %}
                        <li class="clear-both"><p class="float-left">{{ cocktail.tools[i].title() }}</p><span class="cocktail__checkbox float-right"><i class="far fa-square"></i></span></li>
                    {% endfor %}
                </ul>

                <!--Glass-->
                <h2 class="cocktail__item-title clear-both">Glass</h2>
                <ul class="cocktail__info">
                    <li class="glass"><p>{{ cocktail.glass.title() }}</p></li>
                </ul>
                

                <div class="cocktail__affiliate">
                    <h3>Missing a Tool</h3>
                    <p>Grab all the tools you need:</p>
                    <a href="https://www.drinkstuff.com/products/cocktail-accessories.asp?nav=left" target="_blank">Drink Stuff</a>
                </div>
            </div>

            <!--Cocktail Image-->
            <div class="cocktail__img-contianer col-4">
                <img class="cocktail__img" src="/static/images/bramble.jpg">
            </div>
        </div>

        <!--Cocktail Intructions-->
        <div class="cocktail__row row">
            <div class="cocktail__intructions col-8">
                <h2 class="cocktail__item-title">Intructions</h2>
                <ol class="cocktail__info">
                    {% for i in range(0, cocktail.instructions | length) %}
                        <li class="clear-both"><p class="float-left">{{ cocktail.instructions[i].capitalize() }}</p><span class="cocktail__checkbox float-right"><i class="far fa-square"></i></span></li>
                    {% endfor %}
                </ol>
            </div>

            <!--Cocktail Tips-->
            <div class="cocktail__tips col-4">
                <h2 class="cocktail__item-title">Tips</h2>
                <div class="cocktail__tips-wrapper">
                    <ul class="cocktail__tip-list">
                        <li>
                            <div class="tip">
                                <div class="tip__profile-container inline-block">
                                    <img class="tip__profile-img" src="../static/images/pornstar-martini.jpg">
                                </div>
                                <p class="tip__text inline-block">Lorem ipsum is placeholder text commonly used in the graphic, print, and publishing industries for previewing layouts and visual mockups.<span class="tip__author"><br>by <a href="#">USERNAME</a></span></p>
                            </div>
                        </li>
                    </ul>
                </div>

                <!--Leave a Tip Form-->
                <div>
                    <form id="tip-form" action="#" target="_blank" method="post">
                        <label class="tip-form-label" for="tip-form-text">Leave a Tip</label>
                        <textarea name="tip-form-text" class="form__text-area" id="tip-form-text" rows="3" placeholder="Type your tip here" maxlength="200"></textarea>
                        <input type="submit" class="cta cta--form" id="tip-submit" value="Leave Tip" aria-label="login button">
                    </form>
                </div>
            </div>
        </div>
    </section>
{% endblock %}